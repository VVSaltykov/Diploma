@using Diploma.Common.Models
@using Diploma.Common.Models.Enums
@using Microsoft.AspNetCore.Components.Authorization
@layout MainLayout
@inject DialogService DialogService

    <RadzenTemplateForm TItem="RegistrationModel" Data="@RegistrationModel" Submit="@SubmitForm">
        <div class="row" style="margin-bottom: 16px">
            <div class="col-md-3">
                <RadzenLabel Text="Логин"/>
            </div>
            <div class="col">
                <RadzenTextBox @bind-Value="@RegistrationModel.Login" Name="Login"/>
            </div>
        </div>
        <div class="row" style="margin-bottom: 16px">
            <div class="col-md-3">
                <RadzenLabel Text="Пароль"/>
            </div>
            <div class="col">
                <RadzenPassword @bind-Value="@RegistrationModel.Password" Name="Password"/>
            </div>
        </div>
        <div class="row" style="margin-bottom: 16px">
            <div class="col-md-3">
                <RadzenLabel Text="Имя"/>
            </div>
            <div class="col">
                <RadzenTextBox @bind-Value="@RegistrationModel.Name" Name="Name"/>
            </div>
        </div>
        <div class="row" style="margin-bottom: 16px">
            <div class="col-md-3">
                <RadzenLabel Text="Роль"/>
            </div>
            <div class="col">
                <RadzenDropDown @bind-Value="@RegistrationModel.Role" Data="@(Enum.GetValues<Role>().ToList())" Name="Role"/>
            </div>
        </div>
        <div class="row justify-content-center">
            <div class="col-md-3"></div>
            <div class="col-md-6 text-center">
                <RadzenButton ButtonType="ButtonType.Submit" Icon="check_circle" ButtonStyle="ButtonStyle.Success" Text="Создать!"/>
            </div>
            <div class="col-md-3"></div>
        </div>
    </RadzenTemplateForm>

@code {
    [CascadingParameter]
    public Session? CurrentSession { get; set; }
    
    private RegistrationModel RegistrationModel { get; set; } = new RegistrationModel();

    private void SubmitForm(RegistrationModel model)
    {
        // Обработка отправки формы
        DialogService.Close(model);
    }
}